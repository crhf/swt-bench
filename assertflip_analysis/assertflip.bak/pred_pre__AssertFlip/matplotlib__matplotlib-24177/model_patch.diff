diff --git a/dev/null b/lib/matplotlib/tests/test_coverup_matplotlib__matplotlib-24177.py
new file mode 100644
index e69de29..5a88537 100644
--- /dev/null
+++ b/lib/matplotlib/tests/test_coverup_matplotlib__matplotlib-24177.py
@@ -0,0 +1,27 @@
+import pytest
+import numpy as np
+import matplotlib.pyplot as plt
+
+def test_hist_density_autoscale_bug():
+    # Set up the plotting environment
+    fig, ax = plt.subplots(1, 2, figsize=(10, 5))
+    
+    # Generate a random dataset
+    np.random.seed(0)
+    scale = 1.2
+    test_random = np.random.randn(100000) * scale
+    
+    # Plot histograms with different histtypes
+    hist_bar = ax[0].hist(test_random, bins=100, density=True, histtype='bar')
+    hist_step = ax[1].hist(test_random, bins=100, density=True, histtype='step')
+    
+    # Get the y-axis limits for both histograms
+    y_limits_bar = ax[0].get_ylim()
+    y_limits_step = ax[1].get_ylim()
+    
+    # Assert that the y-axis limits are the same, indicating the bug is fixed
+    assert y_limits_bar == y_limits_step, "BUG: y-axis limits should be the same when the bug is fixed"
+
+    # Cleanup: close the plot to avoid state pollution
+    plt.close(fig)
+
