{"instance_id": "sympy__sympy-18763", "repo": "sympy/sympy", "version": "1.5", "environment_setup_commit": "70381f282f2d9d039da860e391fe51649df2779d", "patch_list": ["diff --git a/sympy/printing/latex.py b/sympy/printing/latex.py\n--- a/sympy/printing/latex.py\n+++ b/sympy/printing/latex.py\n@@ -703,7 +703,7 @@ def _print_Subs(self, subs):\n         latex_new = (self._print(e) for e in new)\n         latex_subs = r'\\\\ '.join(\n             e[0] + '=' + e[1] for e in zip(latex_old, latex_new))\n-        return r'\\left. %s \\right|_{\\substack{ %s }}' % (latex_expr,\n+        return r'\\left. \\left(%s\\right) \\right|_{\\substack{ %s }}' % (latex_expr,\n                                                          latex_subs)\n \n     def _print_Integral(self, expr):\n", "diff --git a/dev/null b/sympy/polys/tests/test_coverup_sympy__sympy-18763.py\nnew file mode 100644\nindex e69de29..693a821 100644\n--- /dev/null\n+++ b/sympy/polys/tests/test_coverup_sympy__sympy-18763.py\n@@ -0,0 +1,15 @@\n+from sympy import Subs, latex\n+from sympy.abc import x, y\n+\n+def test_incorrect_parenthesizing_of_subs():\n+    # Create a Subs object with the expression -x + y, substituting x with 1\n+    subs_expr = Subs(-x + y, (x,), (1,))\n+    \n+    # Multiply the Subs object by 3\n+    expr = 3 * subs_expr\n+    \n+    # Convert the expression to a LaTeX string\n+    latex_str = latex(expr)\n+    \n+    # Assert that the LaTeX string matches the correct format\n+    assert latex_str == r'3 \\left. \\left(- x + y\\right) \\right|_{\\substack{ x=1 }}'\n"], "arch": "x86_64", "base_commit": "70381f282f2d9d039da860e391fe51649df2779d", "test_directives": ["sympy/polys/tests/test_coverup_sympy__sympy-18763.py"], "coverage_files": ["sympy/printing/latex.py"], "env_name": "testbed", "run_id": "assertflip", "patch_id": "pred_post__AssertFlip", "timeout": 1800, "rm_image": false, "force_rebuild": false, "exec_mode": "unit_test", "reproduction_script_name": null, "compute_coverage": true, "install": {"python": "3.9", "packages": "mpmath flake8", "pip_packages": ["mpmath==1.3.0", "flake8-comprehensions"], "install": "python -m pip install -e ."}, "cache_level": "instance", "test_command": "PYTHONWARNINGS='ignore::UserWarning,ignore::SyntaxWarning' python3 /root/trace.py --timing --trace --count -C coverage.cover --include-pattern '/testbed/(sympy/printing/latex\\.py)' bin/test -C --verbose sympy/polys/tests/test_coverup_sympy__sympy-18763.p", "req_install_commands": ["conda create -n testbed python=3.9 mpmath flake8 -y"]}