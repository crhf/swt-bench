{"instance_id": "mwaskom__seaborn-3069", "repo": "mwaskom/seaborn", "version": "0.12", "environment_setup_commit": "d25872b0fc99dbf7e666a91f59bd4ed125186aa1", "patch_list": ["diff --git a/dev/null b/tests/test_coverup_mwaskom__seaborn-3069.py\nnew file mode 100644\nindex e69de29..1596942 100644\n--- /dev/null\n+++ b/tests/test_coverup_mwaskom__seaborn-3069.py\n@@ -0,0 +1,27 @@\n+import pytest\n+import matplotlib.pyplot as plt\n+import seaborn as sns\n+\n+def test_nominal_scale_axis_limits_and_grid():\n+    # Create a sample dataset with nominal categories\n+    data = {'Category': ['A', 'B', 'C'], 'Value': [1, 2, 3]}\n+    \n+    # Initialize a seaborn plot using this dataset with a Nominal scale\n+    fig, ax = plt.subplots()\n+    sns.barplot(x='Category', y='Value', data=data, ax=ax)\n+    \n+    # Render the plot\n+    plt.draw()\n+    \n+    # Capture the axis properties\n+    xlim = ax.get_xlim()\n+    grid_visible = ax.xaxis._gridOnMajor if hasattr(ax.xaxis, '_gridOnMajor') else ax.xaxis.get_gridlines()[0].get_visible()\n+    \n+    # Assert that the axis limits are correctly set to the normal margin logic\n+    assert xlim != (-0.5, 2.5), \"Axis limits are incorrectly set to +/- 0.5 from the first and last tick\"\n+    \n+    # Assert that grid lines are not visible\n+    assert grid_visible, \"Grid lines are not visible when they should be\"\n+    \n+    # Cleanup: Close the plot to free resources\n+    plt.close(fig)\n"], "arch": "x86_64", "base_commit": "54cab15bdacfaa05a88fbc5502a5b322d99f148e", "test_directives": ["tests/test_coverup_mwaskom__seaborn-3069.py"], "coverage_files": ["seaborn/_core/plot.py"], "env_name": "testbed", "run_id": "assertflip", "patch_id": "pred_pre__AssertFlip", "timeout": 1800, "rm_image": false, "force_rebuild": false, "exec_mode": "unit_test", "reproduction_script_name": null, "compute_coverage": true, "install": {"python": "3.9", "install": "python -m pip install -e .[dev]", "pip_packages": ["contourpy==1.1.0", "cycler==0.11.0", "fonttools==4.42.1", "importlib-resources==6.0.1", "kiwisolver==1.4.5", "matplotlib==3.7.2", "numpy==1.25.2", "packaging==23.1", "pandas==2.0.0", "pillow==10.0.0", "pyparsing==3.0.9", "pytest", "python-dateutil==2.8.2", "pytz==2023.3.post1", "scipy==1.11.2", "six==1.16.0", "tzdata==2023.1", "zipp==3.16.2"]}, "cache_level": "instance", "test_command": "python3 /root/trace.py --timing --trace --count -C coverage.cover --include-pattern '/testbed/(seaborn/_core/plot\\.py)' -m pytest --no-header -rA tests/test_coverup_mwaskom__seaborn-3069.py", "req_install_commands": ["conda create -n testbed python=3.9  -y"]}